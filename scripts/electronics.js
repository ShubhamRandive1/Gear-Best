let proddataele = [{
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6913147309857632256/16500/goods_thumb_220-v1/d1572a1866e7.jpg",
        brandname: "SAMSUNG",
        productName: "Galaxy Watch",
        price: 78,
        available: "3 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878030535709618176/16535/goods_thumb_220-v1/d175e8cd833d.jpg",
        brandname: "APPLE",
        productName: "Watch 3",
        price: 39,
        available: "2 more sizes"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878402251153666048/16417/goods_thumb_220-v3/21ff9307e5ee.jpg",
        brandname: "GSHOCK",
        productName: "Ultra",
        price: 39,
        available: "2 more sizes"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6615272824267153408/16121/goods_thumb_220-v9/ca5568a2f175.jpg",
        brandname: "XIAOMI",
        productName: "Mi Piston 3",
        price: 63.99,
        available: "4 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6882688590640508928/16427/goods_thumb_220-v1/9ee0aa659dae.jpg",
        brandname: "MI",
        productName: "T1S Watch",
        price: 90,
        available: "4 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878026654363611136/16426/goods_thumb_220-v1/cfd6bff36d7c.jpg",
        brandname: "POCO",
        productName: "X88 Wireless",
        price: 20,
        available: "8 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878030535709618176/16462/goods_thumb_220-v1/dd37c46e04c7.jpg",
        brandname: "XIMI",
        productName: "X8 Bluetooth",
        price: 80,
        available: "6 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878402251153666048/16504/goods_thumb_220-v5/16d28ea3dc9d.jpg",
        brandname: "OUKITEL",
        productName: "MD58 Watch",
        price: 50,
        available: "2 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878402251153666048/16515/goods_thumb_220-v3/84470476ab98.jpg",
        brandname: "LENOVO",
        productName: "Smart IP",
        price: 80,
        available: "2 more sizes"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878030535709618176/16508/goods_thumb_220-v1/ddb7fb40f2a8.jpg",
        brandname: "DOOGEE",
        productName: "BT500",
        price: 80,
        available: "3 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6917171477716594688/16509/goods_thumb_220-v1/780514d2428f.jpg",
        brandname: "XIAOMI",
        productName: "Smart Watch",
        price: 20,
        available: "3 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6883820374342168576/16523/goods_thumb_220-v2/2c1aabee2c60.jpg",
        brandname: "LENOVO",
        productName: "Bh1 Ear Hook",
        price: 50,
        available: "4 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878402251153666048/16518/goods_thumb_220-v5/30bcfaf7c817.jpg",
        brandname: "DOOGEE",
        productName: "WM01 TWS",
        price: 80,
        available: "1 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878402251153666048/16416/goods_thumb_220-v3/ca7daa1e9377.jpg",
        brandname: "CUBOT",
        productName: "HT5 HD",
        price: 60,
        available: "6 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/store/6878025592978206720/16506/goods_thumb_220-v1/adb2a9f757f9.jpg",
        brandname: "POCO",
        productName: "X7M 500",
        price: 35,
        available: "2 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/store/6615272824267153408/16424/goods_thumb_220-v4/4d553b8d0a8c.jpg",
        brandname: "BOAT",
        productName: "HIFI 380",
        price: 80,
        available: "2 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/store/6507287161137004544/16424/goods_thumb_220-v4/81a3cacc5630.jpg",
        brandname: "ULEFONE",
        productName: "Smart Watch",
        price: 40,
        available: "1 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/store/6900783172733300736/16475/goods_thumb_220-v1/b744340b8d9f.jpg",
        brandname: "ANKER",
        productName: "Liberty Air 2",
        price: 80,
        available: "8 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/store/6882689559126274048/16505/goods_thumb_220-v1/cb8d869c93c0.jpg",
        brandname: "YAMAHA",
        productName: "R15 Pro Ride",
        price: 80,
        available: "6 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/store/6900783172733300736/16475/goods_thumb_220-v1/adb2644ea963.jpg",
        brandname: "HUAWEI",
        productName: "FreeBuds Lite",
        price: 80,
        available: "2 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6901174613791928320/16470/goods_thumb_220-v1/74de025add1a.jpg",
        brandname: "T1",
        productName: "T1 Mini TWS",
        price: 40,
        available: "4 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6901174613791928320/16469/goods_thumb_220-v1/391b67e26b9c.jpg",
        brandname: "SAMSUNG",
        productName: "EAR Buds",
        price: 90,
        available: "3 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6883820374342168576/16462/goods_thumb_220-v1/011e09a674dc.jpg",
        brandname: "ROGBID",
        productName: "Rowatch 1 Smart",
        price: 80,
        available: "4 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878028664286670848/16493/goods_thumb_220-v1/0f15beb561da.jpg",
        brandname: "XIAOMI",
        productName: "Xiaomi Air 2",
        price: 40,
        available: "5 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878026654363611136/16426/goods_thumb_220-v1/a6a967407f16.jpg",
        brandname: "Gaming",
        productName: "M33 TWS",
        price: 50,
        available: "7 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/store/6507287161137004544/16536/goods_thumb_220-v4/7ac00558fa5a.jpg",
        brandname: "SHINE",
        productName: "VR Shinecorn 10.0",
        price: 80,
        available: "4 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878026654363611136/16419/goods_thumb_220-v1/c73a412a570d.jpg",
        brandname: "XIAOMI",
        productName: "C11 Watch",
        price: 80,
        available: "3 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6901174613791928320/16484/goods_thumb_220-v1/22a66424900c.jpg",
        brandname: "TWS",
        productName: "MD158 E-Sport",
        price: 28,
        available: "6 more colors"
    }
]

//console.log(proddataele)


var cartArr = JSON.parse(localStorage.getItem("productsdata")) || [];


ProductDatas(proddataele);


function sortbyrelevant() {
    var selected = document.querySelector("#sortbyrelevant").value;

    if (selected == "RELEVANT") {
        var filteredlist = proddataele.filter(function (el) {
            return el;
        })
    }
    if (selected == "PRICE:HIGH TO LOW") {
        var filteredlist = proddataele.sort(function (a, b) {
            return b.price - a.price;
        })
    }
    if (selected == "PRICE:LOW TO HIGH") {
        var filteredlist = proddataele.sort(function (a, b) {
            return a.price - b.price;
        })
    }
    if (selected == "TITLE:A TO Z") {
        var filteredlist = proddataele.sort(function (a, b) {
            if (a.productName > b.productName) return 1;
            if (b.productName > a.productName) return -1;
            return 0;
        })
    }
    if (selected == "TITLE:Z TO A") {
        var filteredlist = proddataele.sort(function (a, b) {
            if (a.productName < b.productName) return 1;
            if (b.productName < a.productName) return -1;
            return 0;
        })
    }

    ProductDatas(filteredlist)

}


function sortbyBrand() {
    var selected = document.querySelector("#sortbybrand").value;
    if (selected != 0) {
        var filteredlist = proddataele.filter(function (elem) {
            return elem.brandname == selected;
        })

    }
    if (selected == 0) {
        var filteredlist = proddataele.filter(function (elem) {
            return elem;
        })
    }

    ProductDatas(filteredlist)

    // console.log(filteredlist)


}


function sortbyprice() {
    var selected = document.querySelector("#sortbyprice").value;

    if (selected == "PRICE") {
        var filteredlist = proddataele.filter(function (elem) {
            return elem;
        })
    }
    if (selected == "less than 20") {
        var filteredlist = proddataele.filter(function (elem) {
            return elem.price <= 20;
        })
    }
    if (selected == "20-50") {
        var filteredlist = proddataele.filter(function (elem) {
            return elem.price > 20 && elem.price <= 50
        })
    }
    if (selected == "50-60") {
        var filteredlist = proddataele.filter(function (elem) {
            return elem.price > 50 && elem.price <= 60;
        })
    }
    if (selected == "61-500") {
        var filteredlist = proddataele.filter(function (elem) {
            return elem.price > 61 && elem.price <= 500;
        })
    }

    //    console.log(filteredlist)

    ProductDatas(filteredlist);
}





function ProductDatas(proddataele) {
    document.querySelector("#electronics").innerHTML = "";

    proddataele.map(function (data) {
        var div = document.createElement("div");
        div.setAttribute("class", "box");

        var imgdiv = document.createElement("div");
        imgdiv.setAttribute("class", "imgbox");

        var image = document.createElement("img");
        image.setAttribute("src", data.image_url);
        image.setAttribute("id", "produceimg");


        image.addEventListener("mouseout", function () {
            image.src = data.image_url;
        });

        image.setAttribute("id", "prodimg");

        var textdiv = document.createElement("div");
        textdiv.setAttribute("class", "textbox");

        var type = document.createElement("p");
        type.textContent = "Bestseller";
        type.setAttribute("id", "type");

        var brandname = document.createElement("p");
        brandname.textContent = data.brandname;
        brandname.setAttribute("id", "brandname");

        var productName = document.createElement("h2");
        productName.textContent = data.productName;
        productName.setAttribute("id", "productname");

        var price = document.createElement("h5");
        price.textContent = "$" + data.price;
        price.setAttribute("id", "price");

        var Available = document.createElement("p");
        Available.textContent = data.Available;
        Available.setAttribute("id", "Available");

        var bdiv = document.createElement("div");
        bdiv.setAttribute("id", "bdiv");

        var cart = document.createElement("button");
        cart.setAttribute("id", "cartbut");
        cart.setAttribute("class", `fas fa-cart-plus`);
        cart.addEventListener("click", function () {
            addTocart(data);
            cart.setAttribute("class", "fas fa-check-circle");
            cart.style.background = "#ff2e53";
            cart.style.color = "white";
        });



        imgdiv.append(image);
        bdiv.append(cart);
        textdiv.append(type, brandname, productName, price, Available, bdiv);
        div.append(imgdiv, textdiv);
        document.querySelector("#electronics").append(div);
    });
}






function addTocart(data) {
    cartArr.push(data);
    localStorage.setItem("productsdata", JSON.stringify(cartArr));
    alert("Successfully Added");
    //console.log(productsdata);
}