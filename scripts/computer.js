let proddatacom = [{
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6883820374342168576/16500/goods_thumb_220-v1/bdea2e38298c.jpg",
        brandname: "NVIDIA",
        productName: "GTX750",
        price: 178,
        available: "3 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/store/6615272824267153408/16456/goods_thumb_220-v3/3103fd6186f7.jpg",
        brandname: "LENOVO",
        productName: "Tablet pc",
        price: 339,
        available: "2 more sizes"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6899301501118902272/16486/goods_thumb_220-v2/6a0fbd723c9d.jpg",
        brandname: "XIAOMI",
        productName: "Redmi AX5400 Router",
        price: 139,
        available: "2 more sizes"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/store/6878025592978206720/16512/goods_thumb_220-v1/61d1dc4177d1.jpg",
        brandname: "HP",
        productName: "TD 90 Native",
        price: 163.99,
        available: "4 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878402251153666048/16510/goods_thumb_220-v3/71b5c7e9f4ec.jpg",
        brandname: "LENOVO",
        productName: "Lenovo Tab P11",
        price: 190,
        available: "4 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/store/6897837697235349504/16460/goods_thumb_220-v1/881d605dc2a2.jpg",
        brandname: "ASUS",
        productName: "A8S Pro",
        price: 220,
        available: "8 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878030535709618176/16545/goods_thumb_220-v1/85d71ef9cc80.jpg",
        brandname: "VI1",
        productName: "HD Projector",
        price: 80,
        available: "6 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878391336429613056/16425/goods_thumb_220-v1/b2dcd4537dba.jpg",
        brandname: "ASUS",
        productName: "RGB Gaming Mouse",
        price: 150,
        available: "2 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878402251153666048/16515/goods_thumb_220-v3/84470476ab98.jpg",
        brandname: "LENOVO",
        productName: "Smart IP",
        price: 180,
        available: "2 more sizes"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878391336429613056/16455/goods_thumb_220-v1/b499a0cfa5af.jpg",
        brandname: "D-Link",
        productName: "3200 Mbps Router",
        price: 80,
        available: "3 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6917171477716594688/16509/goods_thumb_220-v1/780514d2428f.jpg",
        brandname: "XIAOMI",
        productName: "Smart Watch",
        price: 120,
        available: "3 more colors"
    },

    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/store/6900783172733300736/16475/goods_thumb_220-v1/b744340b8d9f.jpg",
        brandname: "ANKER",
        productName: "Liberty Air 2",
        price: 180,
        available: "8 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6917171477716594688/16547/goods_thumb_220-v1/f9e9ba10cb13.jpg",
        brandname: "JUST",
        productName: "Macbook Case",
        price: 20,
        available: "6 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6917171477716594688/16546/goods_thumb_220-v1/e26b65814079.jpg",
        brandname: "LEGACY",
        productName: "Laptop Case",
        price: 30,
        available: "2 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6901174613791928320/16470/goods_thumb_220-v1/74de025add1a.jpg",
        brandname: "T1",
        productName: "T1 Mini TWS",
        price: 140,
        available: "4 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6901174613791928320/16469/goods_thumb_220-v1/391b67e26b9c.jpg",
        brandname: "SAMSUNG",
        productName: "EAR Buds",
        price: 90,
        available: "3 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6883820374342168576/16462/goods_thumb_220-v1/011e09a674dc.jpg",
        brandname: "ROGBID",
        productName: "Rowatch 1 Smart",
        price: 80,
        available: "4 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878028664286670848/16493/goods_thumb_220-v1/0f15beb561da.jpg",
        brandname: "XIAOMI",
        productName: "Xiaomi Air 2",
        price: 140,
        available: "5 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878026654363611136/16426/goods_thumb_220-v1/a6a967407f16.jpg",
        brandname: "Gaming",
        productName: "M33 TWS",
        price: 150,
        available: "7 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6878391336429613056/16418/goods_thumb_220-v1/623b90356b6a.jpg",
        brandname: "XIAOVV",
        productName: "Webcam 1080p",
        price: 140,
        available: "4 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6917171477716594688/16546/goods_thumb_220-v1/c030811d3816.jpg",
        brandname: "CRYSTAL",
        productName: "Laptop Case",
        price: 80,
        available: "3 more colors"
    },
    {
        image_url: "https://gloimg.gbtcdn.com/soa/gb/item/6917171477716594688/16546/goods_thumb_220-v1/2bafb3c4e104.jpg",
        brandname: "RETINA",
        productName: "Laptop Case",
        price: 28,
        available: "2 more colors"
    }
]

//console.log(proddatacom)

//export default proddatacom;



var cartArr = JSON.parse(localStorage.getItem("productsdata")) || [];


ProductDatas(proddatacom);


function sortbyrelevant() {
    var selected = document.querySelector("#sortbyrelevant").value;

    if (selected == "RELEVANT") {
        var filteredlist = proddatacom.filter(function (el) {
            return el;
        })
    }
    if (selected == "PRICE:HIGH TO LOW") {
        var filteredlist = proddatacom.sort(function (a, b) {
            return b.price - a.price;
        })
    }
    if (selected == "PRICE:LOW TO HIGH") {
        var filteredlist = proddatacom.sort(function (a, b) {
            return a.price - b.price;
        })
    }
    if (selected == "TITLE:A TO Z") {
        var filteredlist = proddatacom.sort(function (a, b) {
            if (a.productName > b.productName) return 1;
            if (b.productName > a.productName) return -1;
            return 0;
        })
    }
    if (selected == "TITLE:Z TO A") {
        var filteredlist = proddatacom.sort(function (a, b) {
            if (a.productName < b.productName) return 1;
            if (b.productName < a.productName) return -1;
            return 0;
        })
    }

    ProductDatas(filteredlist)

}


function sortbyBrand() {
    var selected = document.querySelector("#sortbybrand").value;
    if (selected != 0) {
        var filteredlist = proddatacom.filter(function (elem) {
            return elem.brandname == selected;
        })

    }
    if (selected == 0) {
        var filteredlist = proddatacom.filter(function (elem) {
            return elem;
        })
    }

    ProductDatas(filteredlist)

    // console.log(filteredlist)


}


function sortbyprice() {
    var selected = document.querySelector("#sortbyprice").value;

    if (selected == "PRICE") {
        var filteredlist = proddatacom.filter(function (elem) {
            return elem;
        })
    }
    if (selected == "less than 20") {
        var filteredlist = proddatacom.filter(function (elem) {
            return elem.price <= 20;
        })
    }
    if (selected == "20-50") {
        var filteredlist = proddatacom.filter(function (elem) {
            return elem.price > 20 && elem.price <= 50
        })
    }
    if (selected == "50-60") {
        var filteredlist = proddatacom.filter(function (elem) {
            return elem.price > 50 && elem.price <= 60;
        })
    }
    if (selected == "61-500") {
        var filteredlist = proddatacom.filter(function (elem) {
            return elem.price > 61 && elem.price <= 500;
        })
    }

    //    console.log(filteredlist)

    ProductDatas(filteredlist);
}





function ProductDatas(proddatacom) {
    document.querySelector("#Computer").innerHTML = "";

    proddatacom.map(function (data) {
        var div = document.createElement("div");
        div.setAttribute("class", "box");

        var imgdiv = document.createElement("div");
        imgdiv.setAttribute("class", "imgbox");

        var image = document.createElement("img");
        image.setAttribute("src", data.image_url);
        image.setAttribute("id", "produceimg");


        image.addEventListener("mouseout", function () {
            image.src = data.image_url;
        });

        image.setAttribute("id", "prodimg");

        var textdiv = document.createElement("div");
        textdiv.setAttribute("class", "textbox");

        var type = document.createElement("p");
        type.textContent = "Bestseller";
        type.setAttribute("id", "type");

        var brandname = document.createElement("p");
        brandname.textContent = data.brandname;
        brandname.setAttribute("id", "brandname");

        var productName = document.createElement("h2");
        productName.textContent = data.productName;
        productName.setAttribute("id", "productname");

        var price = document.createElement("h5");
        price.textContent = "$" + data.price;
        price.setAttribute("id", "price");

        var Available = document.createElement("p");
        Available.textContent = data.Available;
        Available.setAttribute("id", "Available");

        var bdiv = document.createElement("div");
        bdiv.setAttribute("id", "bdiv");

        var cart = document.createElement("button");
        cart.setAttribute("id", "cartbut");
        cart.setAttribute("class", `fas fa-cart-plus`);
        cart.addEventListener("click", function () {
            addTocart(data);
            cart.setAttribute("class", "fas fa-check-circle");
            cart.style.background = "#ff2e53";
            cart.style.color = "white";
        });



        imgdiv.append(image);
        bdiv.append(cart);
        textdiv.append(type, brandname, productName, price, Available, bdiv);
        div.append(imgdiv, textdiv);
        document.querySelector("#Computer").append(div);
    });
}






function addTocart(data) {
    cartArr.push(data);
    localStorage.setItem("productsdata", JSON.stringify(cartArr));
    alert("Successfully Added");
    //console.log(productsdata);
}